"use strict";(("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_forum_client=("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_forum_client||[]).push([[7450],{17450:(t,e,n)=>{n.d(e,{e:()=>V});var o=n(43653),s=n.n(o),r=n(29685),i=n.n(r);const c="www.wix.com",a="http";var u=n(13158);function l(){return"undefined"!=typeof window}function d(){var t;return void 0!==u&&null!=(null===(t=null==u?void 0:u.versions)||void 0===t?void 0:t.node)}function f(){return"object"==typeof self?self:n.g}function p(t){const e=function(t){return function(){const t=function(){if("object"==typeof document)return document}();if(t&&t.cookie)return decodeURIComponent(t.cookie).split(";");return[]}().filter((e=>t===e.split("=")[0].trim()))[0]}(t);return e?e.split("=")[1]:""}const h="XSRF-TOKEN",g="x-xsrf-token";const b="x-wix-brand";function v(){const t=function(){const t=f();if(t&&t.commonConfig&&"string"==typeof t.commonConfig.brand)return t.commonConfig.brand;return""}();return{[b]:t}}function m(){return function(){const t=f();if(t&&t.consentPolicyManager&&"function"==typeof t.consentPolicyManager._getConsentPolicyHeader)return t.consentPolicyManager._getConsentPolicyHeader();return}()||function(){const t=f();if(t&&t.Wix&&t.Wix.Utils&&"function"==typeof t.Wix.Utils._getConsentPolicyHeader)return t.Wix.Utils._getConsentPolicyHeader();return}()||{}}var O=n(13158);function y(){return void 0!==O&&null!=(null===(t=O.versions)||void 0===t?void 0:t.node)&&(!!O.env.TEAMCITY_VERSION||!!O.env.BUILDKITE);var t}var w=n(13158);function j(t){var e,n;const o=null!==(n=null!==(e="communities-forum-client")?e:w.env.APP_NAME)&&void 0!==n?n:"";return{"X-Wix-Client-Artifact-Id":null!=t?t:y()?"":o}}const x=["consentPolicy","consentPolicyHeader"],S={bsi:"BSI"};const C=()=>{const t=function(){const t=f(),e=null==t?void 0:t.commonConfig;if(!e)return null;const n={};let o=!1;return Object.keys(e).forEach((t=>{const s=S[t];s?(n[s]=e[t],o=!0):x.indexOf(t)<0&&"function"!=typeof e[t]&&(n[t]=e[t],o=!0)})),o?n:null}(),e=t?JSON.stringify(t):"";return{commonConfig:encodeURIComponent(e)}};var R=n(88144),_=n.n(R);const E="x-wix-linguist";function I({lang:t,locale:e,isPrimaryLanguage:n,signedInstance:o}){if(function({lang:t,locale:e,isPrimaryLanguage:n}){return t&&e&&/^(true|false)$/.test((null==n?void 0:n.toString())||"")}({lang:t,locale:e,isPrimaryLanguage:n})){const s=function(t){try{const e=(null==t?void 0:t.startsWith("wixcode"))?null==t?void 0:t.split(".")[2]:null==t?void 0:t.split(".")[1];if(e)return JSON.parse(_().decode(e)).instanceId}catch(t){}}(o);if(void 0!==s)return{[E]:[t,e,null==n?void 0:n.toString(),s].join("|")}}return{}}class L extends Error{constructor(t,e,n){super(`WixHeadersValidationError: expected ${e} to be ${t} but got ${JSON.stringify(n)}`)}}function k(t={}){!function(t){(function(t,e){if("boolean"!=typeof e)throw new L("boolean",t,e)})("opts.csrf",t.csrf),function(t,e){if("string"!=typeof e)throw new L("string",t,e)}("opts.signedInstance",t.signedInstance)}(t=Object.assign({csrf:!0,signedInstance:""},t));const e=[v(),m(),(n=t.signedInstance,{authorization:n}),j(t.artifactId),C(),I(Object.assign({signedInstance:t.signedInstance},t.multilingualOptions))];var n;return t.csrf&&e.push(function(){const t=p(h);return{[g]:t}}()),e.filter((t=>Object.values(t).every((t=>t)))).reduce(((t,e)=>Object.assign(Object.assign({},t),e)),{})}var P=n(13158);function H(t){if("string"!=typeof t)throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return/(^https?:)|(^\/\/)/.test(t)}function U(t,e){return e.split(".").filter((t=>t)).reduce(((t,e)=>t[e]),t)}function T(t){try{return new URL(t).protocol}catch(e){return N(t).protocol}}function q(t){let e;try{e=new URL(t)}catch(n){e=new URL(`http:${t}`)}try{return e.host}catch(e){return N(t).host}}function N(t){const e=new RegExp("^(.*:)//([A-Za-z0-9-.]+)(:[0-9]+)?(.*)$");try{const n=e.exec(t);return{protocol:n[1],host:n[2]}}catch(t){return{protocol:"http:",host:""}}}function $(t,e){let n;try{n=new URL(t),n.host=e,n.protocol="http"}catch(o){n=new URL(`http://${e}`),n.pathname=t}return n.toString()}function M(){let t;if(d()&&P.env.HTTP_CLIENT_GLOBAL_CONFIG)try{t=JSON.parse(P.env.HTTP_CLIENT_GLOBAL_CONFIG)}catch(t){}var e;return t||(l()?t=window._httpClientGlobalConfig:"object"==typeof self&&(null===(e=null===self||void 0===self?void 0:self.constructor)||void 0===e||e.name)),t||{httpMockServer:{enabled:!1}}}const A=JSON.parse('["wix.com","editorx.com","wix-code.com","wixapps.net","wixprod.net"]');function W(t){var e;return(null===(e=null==t?void 0:t.headers)||void 0===e?void 0:e["x-wix-request-id"])||""}function z(t){if(!H(t))return!0;const e=`.${q(t)}`;return!!A.find((t=>e.endsWith(`.${t}`)))}const J=["code","config","request","response","toJSON","__CANCEL__"];class F extends Error{constructor(t){super(t.message),this.isWixHttpError=!0,Object.setPrototypeOf(this,F.prototype),J.forEach((e=>{this[e]=t[e]}))}get requestId(){return W(this.response)}}const B=({requestOptions:t,urlObject:e,headers:n,globalConfig:o={httpMockServer:{enabled:!1}}})=>{const{url:s,params:r}=t;if(r&&"object"!=typeof r)throw new Error("Search params must be an object");const i=function(t,e){if(e.httpMockServer.enabled){return{url:$(t,new URL(e.httpMockServer.mockServerUrl).host)}}return{}}(s,o);return Object.assign(Object.assign(Object.assign({},t),i),{headers:n})},G=(t,e,n={httpMockServer:{enabled:!1}},o)=>{const{url:s,disableWixHeaders:r,headers:i}=t,c=(({url:t,disableWixHeaders:e,wixHeadersOpts:n})=>!e&&z(t)?k(n):{})({url:s,disableWixHeaders:r,wixHeadersOpts:e}),a=D(n,t,o);return Object.assign(Object.assign(Object.assign({},c),function(t){t=t||{};return Object.keys(t).reduce(((e,n)=>Object.assign(Object.assign({},e),{[n.toLowerCase()]:t[n]})),{})}(i)),a)},D=(t,e,n)=>{const{url:o,params:s}=e,{host:r,protocol:i}=n;return t.httpMockServer.enabled?{"x-wix-metro-original-url":K(o,s),"x-wix-metro-original-host":H(o)?q(o):r,"x-wix-metro-original-protocol":H(o)?T(o):i}:{}};function K(t,e){const{pathname:n,searchParams:o}=new URL(t,"http://unused.com");if(e=e||o){const t=function(t){return Object.entries(t).map((([t,e])=>`${t}=${encodeURIComponent(e)}`)).flat().join("&")}(e)||e.toString();return`${n}${t?`?${t}`:""}`}return n}class V{constructor(t={}){this.opts=t,this.opts=function(t){let e=t.adapter;e||(e=i(),d()&&(e=function(){return require("axios/lib/adapters/http");return n(29685)}()));return Object.assign({adapter:e,isSSR:!1},t)}(this.opts),this.client=s().create(this.opts),this.flags={sanitizerPocEnabled:X()}}static isHttpError(t){return!!(null==t?void 0:t.isWixHttpError)}async request(t,e){var n,o;const s=(r=this.opts).baseURL?q(r.baseURL):r.isSSR?c:"undefined"!=typeof self&&self.location?self.location.host:"";var r;const i=function(t){return t.baseURL?T(t.baseURL):t.isSSR?a:"undefined"!=typeof self&&self.location?self.location.protocol:""}(this.opts),u={protocol:i,host:s},l="function"==typeof t?t({isSSR:this.opts.isSSR,host:s}):t,d=(null==e?void 0:e.signedInstance)||await(null===(o=(n=this.opts).getAppToken)||void 0===o?void 0:o.call(n))||"",f=this.getHeaders(l,d,u),p=B({requestOptions:l,urlObject:u,headers:f,globalConfig:M()});this.opts.isSSR&&(p.baseURL=this.opts.baseURL?this.opts.baseURL:`${a}://${c}`);try{const t=await this.client.request(p).catch((t=>this.maybeFallbackRequest(t,l,u,d)));return this.transformResponse(t,l)}catch(t){this.handleRequestError(t,p)}}async get(t,e){const n=Object.assign(Object.assign({},e),{url:t,method:"GET"});return this.request(n)}async delete(t,e){const n=Object.assign(Object.assign({},e),{url:t,method:"DELETE"});return this.request(n)}async head(t,e){const n=Object.assign(Object.assign({},e),{url:t,method:"HEAD"});return this.request(n)}async options(t,e){const n=Object.assign(Object.assign({},e),{url:t,method:"OPTIONS"});return this.request(n)}async post(t,e,n){const o=Object.assign(Object.assign({},n),{url:t,data:e,method:"POST"});return this.request(o)}async put(t,e,n){const o=Object.assign(Object.assign({},n),{url:t,data:e,method:"PUT"});return this.request(o)}async patch(t,e,n){const o=Object.assign(Object.assign({},n),{url:t,data:e,method:"PATCH"});return this.request(o)}get CancelToken(){return s().CancelToken}get isCancel(){return s().isCancel}getHeaders(t,e,n){if("function"==typeof this.opts.createHeaders)return this.getCustomHeaders(t,e,n);const o={signedInstance:e,artifactId:this.opts.artifactId,csrf:!1,multilingualOptions:this.opts.multilingualOptions};return G(t,o,M(),n)}getCustomHeaders(t,e,n){const{url:o}=t,s=e&&z(o)?{authorization:e}:{},r=this.opts.createHeaders(),i=D(M(),t,n);return Object.assign(Object.assign(Object.assign({},i),r),s)}handleRequestError(t,e){const n=function(...t){return new F(...t)}(t);throw async function(t){try{await t()}catch(t){}}((()=>{var t;return null===(t=e.onError)||void 0===t?void 0:t.call(e,n)})),n}maybeFallbackRequest(t,e,n,o){var s,r,i;if(M().httpMockServer.enabled&&M().httpMockServer.allowUnmocked&&404===(null===(s=t.response)||void 0===s?void 0:s.status)&&"NO_SCENARIO_FOUND"===(null===(i=null===(r=t.response)||void 0===r?void 0:r.data)||void 0===i?void 0:i.msg)){const t=this.getHeaders(e,o,n),s=B({requestOptions:e,urlObject:n,headers:t});return this.client.request(s)}throw t}transformResponse(t,e){const n=W(t),o=function(t,e,n){let o=function(t,e){try{if(e.sanitizerPocEnabled){const e=performance.now(),n=new Sanitizer;if(t.headers["content-type"].includes("application/json")){console.log("[+] JSON Response detected, sanitizing data");const o=function(t){try{return Object.keys(t).forEach((e=>{"string"==typeof t[e]?t[e]=n.sanitizeFor("span",t[e]).innerHTML:"object"==typeof t[e]&&(t[e]=o(t[e]))})),t}catch(t){console.log(t)}},s=performance.now();return console.log(`Time taken: ${s-e} milliseconds.`),o(t.data)}}}catch(t){console.log("[+] Sanitizer API not supported: %o",t)}return t.data}(t,n);e._pickResponseBody&&(o=U(t.data,e._pickResponseBody));if(e._logs){const n=U(t.data,e._logs);(null==n?void 0:n.length)&&n.map((t=>console.log(...t)))}return o}(t,e,this.flags);return Object.assign(Object.assign({},t),{data:o,requestId:n})}}function X(){var t;try{return l()&&"true"===new URLSearchParams((null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.hash)||"").get("sanitizerPOC")}catch(t){return!1}}V.CancelToken=s().CancelToken,V.isCancel=s().isCancel}}]);
//# sourceMappingURL=7450.chunk.min.js.map