"use strict";(("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_forum_client=("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_forum_client||[]).push([[9116],{84457:(e,t,n)=>{n.d(t,{sh:()=>i});const i=e=>({id:e,name:"Unknown member",siteMemberId:e,isBlocked:!1,rolesList:[],badges:[],groups:[],permissions:{role:"user"}})},84799:(e,t,n)=>{var i=n(58616);(0,i.PH)("userEvents/DELETE_CATEGORY"),(0,i.PH)("userEvents/SHOW_EMPTY_STATE"),(0,i.PH)("userEvents/MOVE_POST"),(0,i.PH)("userEvents/CLICK_PUBLISH"),(0,i.PH)("userEvents/CLICK_REACTION"),(0,i.PH)("userEvents/OPEN_REACTION_LIST"),(0,i.PH)("userEvents/CLICK_PROFILE_LINK"),(0,i.PH)("userEvents/CLICK_CREATE_POST"),(0,i.PH)("userEvents/CLICK_CREATE_POST_BUTTON"),(0,i.PH)("userEvents/CLICK_CREATE_POST_BUTTON_NO_CATEGORY"),(0,i.PH)("userEvents/SELECT_CATEGORY_ON_CREATE_POST"),(0,i.PH)("userEvents/POST_CAPTCHA_SHOWN"),(0,i.PH)("userEvents/POST_CAPTCHA_RESOLVED"),(0,i.PH)("userEvents/COMMENT_CAPTCHA_SHOWN"),(0,i.PH)("userEvents/COMMENT_CAPTCHA_RESOLVED"),(0,i.PH)("userEvents/GUIDELINES_SHOWN"),(0,i.PH)("userEvents/POSTING_DISABLED_SHOWN"),(0,i.PH)("userEvents/POSTING_DISABLED_CLOSE"),(0,i.PH)("userEvents/SEARCH_FOCUSED"),(0,i.PH)("userEvents/SEARCH_CLEARED"),(0,i.PH)("userEvents/SEARCH_SUGGESTIONS_LOADED"),(0,i.PH)("userEvents/SEARCH_SUBMITTED"),(0,i.PH)("userEvents/POST_PENDING_MODAL_SHOWN"),(0,i.PH)("userEvents/POST_PENDING_MODAL_CLOSE")},74418:(e,t,n)=>{n.d(t,{$G:()=>o});var i=n(58616),r=(n(39679),n(74752));n(84799),n(86207);(0,i.PH)("post/REACT_TO_POST_REQUEST",(e=>{let{reactionCode:t,postId:n,subaction:i,identity:r}=e;return{payload:{_id:n,reactionCode:t,subaction:i,identity:r}}})),(0,i.PH)("post/REACT_TO_POST_SUCCESS",(e=>{let{reactedIdentities:t,recentReactions:n,postId:i,reactionCode:r,subaction:s}=e;return{payload:{reactedIdentities:t,recentReactions:n,_id:i,reactionCode:r,subaction:s}}})),(0,i.PH)("post/REACT_TO_POST_FAILURE",(e=>{let{postId:t,error:n}=e;return{payload:{_id:t,error:n}}}));const s=(e,t)=>{var n;return null==(n=e.reactedIdentities.find((e=>e.identities.find((e=>e.identityId===t.identityId)))))?void 0:n.reactionCode},o=e=>{let{subaction:t,reactionCode:n,reactionsState:i,identity:o}=e;if("REMOVE"!==t&&void 0===n)throw Error("reaction code is undefined");switch(t){case"ADD":if(!n)throw Error("Cannot update reacted identities. Reaction code is undefined.");return a({existingReactions:i.reactedIdentities,reactionToAdd:{reactionCode:n,identity:o}});case"REPLACE":{if(!n)throw Error("Cannot update reacted identities. Reaction code is undefined.");const e=d({existingReactions:i.reactedIdentities,reactionToRemove:{reactionCode:s(i,o),identity:o}});return a({existingReactions:e,reactionToAdd:{reactionCode:n,identity:o}})}case"REMOVE":return d({existingReactions:i.reactedIdentities,reactionToRemove:{reactionCode:s(i,o),identity:o}});default:throw(0,r.t1)(t)}},a=e=>{let{existingReactions:t,reactionToAdd:n}=e;return t.find((e=>e.reactionCode===n.reactionCode))?t.map((e=>{if(e.reactionCode!==n.reactionCode)return e;return{...e,hasReacted:!0,total:e.total+1,identities:[...e.identities,n.identity]}})):[...t,{reactionCode:n.reactionCode,hasReacted:!0,total:1,identities:[n.identity]}]},d=e=>{let{existingReactions:t,reactionToRemove:n}=e;return 1===t.find((e=>e.reactionCode===n.reactionCode)).total?t.filter((e=>e.reactionCode!==n.reactionCode)):t.map((e=>{if(e.reactionCode!==n.reactionCode)return e;return{...e,total:e.total-1,hasReacted:!1,identities:e.identities.filter((e=>e.identityId!==n.identity.identityId))}}))}},39679:(e,t,n)=>{n.d(t,{e$:()=>_,j3:()=>v,vS:()=>C,yl:()=>l});var i=n(74752),r=n(74451),s=n(96320),o=n(39026),a=n(13541),d=n(84457),c=n(74418);const l=(e,t)=>{var n,i,s,o,a,d,l;const u=(0,r.xl)(e,t);if(null==u||!u.reactions)return{pending:!0,total:0,reactions:[]};const C=E(null==(n=u.reactions)?void 0:n.reactedIdentities),v=null==(i=u.reactions)?void 0:i.reactedIdentities.reduce(((e,t)=>e+t.total),0);var _;if("IDLE"===(null==(s=u.reactions)?void 0:s.type))return{pending:!1,total:v,reactions:C,activeReaction:null==(_=C.find((e=>e.hasReacted)))?void 0:_.reactionCode};const m=(0,c.$G)({subaction:null==(o=u.reactions)?void 0:o.action,reactionCode:null==(a=u.reactions)?void 0:a.reactionCode,reactionsState:u.reactions,identity:null==(d=u.reactions)?void 0:d.identity});return{pending:!0,total:v,reactions:E(m),activeReaction:null==(l=u.reactions)?void 0:l.reactionCode}},u=(e,t)=>{const n=((e,t)=>(0,r.xl)(e,t).reactions)(e,t),s=n.reactedIdentities.map((e=>e.identities.map((e=>e.identityId)))).filter(i.$K).flat();return[...new Set(s)]},E=e=>Object.values(s.$).map((t=>{var n,i,r;const s=null==e?void 0:e.find((e=>e.reactionCode===t));return{reactionCode:t,hasReacted:(null==s?void 0:s.hasReacted)||!1,total:null!=(n=null!=(i=null==s?void 0:s.total)?i:null==s||null==(r=s.identities)?void 0:r.length)?n:0,identities:(null==s?void 0:s.identities)||[]}})),C=(e,t)=>{const n=u(e,t),i=(0,o.QK)(e);return n.filter((e=>!i.membersCache[e]))},v=e=>{const t=(0,o.QK)(e);return{type:t.status,membersCache:t.membersCache,currentMember:null!=t&&t.currentUserId?t.membersCache[t.currentUserId]:void 0,followedMembers:t.followedMembers||[]}},_=(e,t,n)=>{const i=t[n];if(!i)return{type:"UNKNOWN",member:{...(0,d.sh)(n),badges:[]}};const r=(0,a.F)(e,null==i?void 0:i.badges)||[];return{type:"MEMBER",member:{...i,badges:r}}}},80783:(e,t,n)=>{n.d(t,{w:()=>o});var i=n(12988),r=n(58292),s=n(86257);const o=()=>{const{isUserAuthenticated:e,requestLogin:t,setSavedAction:n}=(0,i.h)(((e,t)=>({isUserAuthenticated:(0,r.$8)(e),requestLogin:(0,s.Z)(t.requestLoginPromisified),setSavedAction:t.setSavedAction})));return(i,r)=>{const{reportBI:s,beforeRequestLogin:o,actionDetails:a,requestLoginMode:d}=r;if(null==s||s(),e)return i();null==o||o(),a&&n(a),t(d)}}},12988:(e,t,n)=>{n.d(t,{h:()=>o});var i=n(64117),r=n(95827),s=n(75651);function o(e){return(0,i.Sz)(r.Z,(t=>e(t.state,t.actions,t.host)),s.w)}},75651:(e,t,n)=>{n.d(t,{w:()=>i});const i=(e,t)=>{if(Object.is(e,t))return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,n)=>e===t[n]));if(e&&t&&e.constructor===Object&&t.constructor===Object){const n=Object.keys(e);return n.length===Object.keys(t).length&&n.every((n=>Object.is(e[n],t[n])))}return!1}},86207:(e,t,n)=>{var i=n(58616);(0,i.PH)("message/SHOW",((e,t)=>({payload:{type:e,props:t}}))),(0,i.PH)("message/HIDE")},39026:(e,t,n)=>{n.d(t,{QK:()=>i,QW:()=>r});const i=e=>e.members,r=(e,t)=>(e=>i(e).followedMembers)(e).find((e=>e.id===t))},74752:(e,t,n)=>{function i(e){return new Error("Unreachable case with value "+JSON.stringify(e))}n.d(t,{$K:()=>r,t1:()=>i});const r=e=>null!=e},17771:(e,t,n)=>{n.r(t),n.d(t,{OwnerSmallIcon:()=>a});var i=n(448),r=n.n(i),s=n(27762),o=n.n(s);const a=e=>o().createElement("svg",r()({xmlns:"http://www.w3.org/2000/svg",width:"19",viewBox:"0 0 19 19",style:{fillRule:"evenodd"}},e),o().createElement("path",{d:"M15.3812,6.495914 L12.6789333,8.77258837 C12.6191333,8.84477644 12.5099333,8.85722265 12.4354,8.79997005 C12.4215333,8.79001308 12.4094,8.77756686 12.3998667,8.76429089 L9.78686667,6.14327115 C9.67766667,5.99225704 9.46186667,5.95491839 9.305,6.05863687 C9.26946667,6.08186981 9.23913333,6.11091099 9.21573333,6.14493065 L6.60013333,8.81075677 C6.5464,8.88626383 6.43893333,8.90534803 6.3592,8.85390366 C6.34446667,8.84394669 6.33146667,8.83233022 6.32106667,8.81905425 L3.61966667,6.50587098 C3.5018,6.36149485 3.28426667,6.33577266 3.13346667,6.44861837 C3.0494,6.51167921 3,6.60792997 3,6.70998895 L4,14 L15,14 L16,6.70169148 C16,6.51831719 15.8448667,6.36979232 15.6533333,6.36979232 C15.5476,6.36979232 15.4470667,6.41625821 15.3812,6.495914 Z"}))},61869:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(448),r=n.n(i),s=n(17607),o=n(27762),a=n.n(o);const d=e=>{e.stopPropagation(),e.preventDefault()},c=e=>{let{children:t,...n}=e;const i=(0,s.omit)(n,"user","tReady");return a().createElement("span",r()({},i,{onClick:d}),t)}},33969:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(448),r=n.n(i),s=n(27762),o=n.n(s),a=n(95827),d=n(59855),c=n(61869),l=n(58292),u=n(48787),E=n(53001),C=n(1100),v=n(12795),_=n(48494);const m=(0,C.Z)((0,a.$)(((e,t,n)=>({currentMemberId:(0,l.oW)(e),profileLinkTemplate:(0,u.Wu)(e),navigateToProfile:n.navigateToProfile,userEventsClickProfileLink:n.userEventsClickProfileLink})),[_.r.CURRENT_USER,_.r.MA_NAVIGATION])((0,v.Z)((e=>{const{user:t,currentMemberId:n,profileLinkTemplate:i,navigateToProfile:s,userEventsClickProfileLink:a,...l}=e;return null!=t&&t.slug?o().createElement(d.Z,r()({onClick:e=>{e.preventDefault(),e.stopPropagation(),a({isOwnProfile:t.siteMemberId===n}),s({memberId:t.siteMemberId,memberSlug:t.slug})},to:(0,E.D)(i,t.slug)},l)):o().createElement(c.Z,e)}))),c.Z)},50426:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(87308);const r=(0,i.ZP)({resolved:{},chunkName:()=>"badge-lib",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(1061),n.e(3653),n.e(4544),n.e(7450),n.e(6288),n.e(56)]).then(n.bind(n,32962)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 32962}})},79572:(e,t,n)=>{n.d(t,{C:()=>i.Z});var i=n(50426)},1100:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(27762),r=n.n(i),s=n(95827),o=n(51043);const a=(e,t)=>(0,s.$)((e=>({isMemberAreaActive:(0,o.X)(e)})))((n=>{let{isMemberAreaActive:i,...s}=n;const o=i?e:t;return r().createElement(o,s)}))},12795:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(27762),r=n.n(i),s=n(17607),o=n(98575),a=n(61869);const d=function(e,t){return void 0===t&&(t=a.Z),n=>(0,s.get)(n,"user.privacyStatus")===o.USER_PRIVACY_STATUS_PRIVATE?r().createElement(t,n):r().createElement(e,n)}},13541:(e,t,n)=>{n.d(t,{F:()=>i});const i=(e,t)=>e.badges.find((e=>t.includes(e.id)))}}]);
//# sourceMappingURL=9116.chunk.min.js.map